<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Nicko Hristov ">
<meta name="description" content="Android is a great open source smartphone operating system and because based on Linux, with almost unlimited customization possibilities. Unfortunately, vendors like to lock their ecosystem down and this is only true for &amp;ldquo;stock Android&amp;rdquo; or more precisely the AOSP (Android Open Source Platform) and nowadays every single Android system shipped by popular manufacturers like OnePlus, Samsung and ZTE is bloated with tons of proprietary crapware and the even worse the Google services." />
<meta name="keywords" content="homepage, blog, android, customROM, smartphone" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://nickohristov.de/posts/flashing_android_factory_image/" />


    <title>
        
            Flashing AOSP to Smartphones :: Hi, I&#39;m Nicko Hristov!  — A student by day, a coder by night.
        
    </title>







<link rel="stylesheet" href="/main.c47edf39e235b482df2ff83840628fb6b276216c064604f24f8a226699cb571e.css">



    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="Flashing AOSP to Smartphones">
<meta itemprop="description" content="Android is a great open source smartphone operating system and because based on Linux, with almost unlimited customization possibilities. Unfortunately, vendors like to lock their ecosystem down and this is only true for &ldquo;stock Android&rdquo; or more precisely the AOSP (Android Open Source Platform) and nowadays every single Android system shipped by popular manufacturers like OnePlus, Samsung and ZTE is bloated with tons of proprietary crapware and the even worse the Google services.">
<meta itemprop="datePublished" content="2022-03-01T16:00:00+01:00" />
<meta itemprop="dateModified" content="2022-03-01T16:00:00+01:00" />
<meta itemprop="wordCount" content="389">
<meta itemprop="image" content="https://nickohristov.de"/>



<meta itemprop="keywords" content="android,customROM,smartphone," />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://nickohristov.de"/>

<meta name="twitter:title" content="Flashing AOSP to Smartphones"/>
<meta name="twitter:description" content="Android is a great open source smartphone operating system and because based on Linux, with almost unlimited customization possibilities. Unfortunately, vendors like to lock their ecosystem down and this is only true for &ldquo;stock Android&rdquo; or more precisely the AOSP (Android Open Source Platform) and nowadays every single Android system shipped by popular manufacturers like OnePlus, Samsung and ZTE is bloated with tons of proprietary crapware and the even worse the Google services."/>








    <meta property="article:published_time" content="2022-03-01 16:00:00 &#43;0100 CET" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">$</span>
            <span class="logo__text">cd ~</span>
            <span class="logo__cursor" style=
                  "
                   background-color:#379cff;
                   animation-duration:1.1s;">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/posts">Posts</a></li><li><a href="/about">About</a></li><li><a href="/sources">Sources</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        2 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://nickohristov.de/posts/flashing_android_factory_image/">Flashing AOSP to Smartphones</a>
      </h1>

      

      

      

      <div class="post-content">
        

    <img src="/posts/Android_logo.png" alt="Android logo" style="float: right; height: 160px; margin: 20px 0px 20px 20px;">


<p>Android is a great open source smartphone operating system and because based on Linux, with almost unlimited customization possibilities. Unfortunately, vendors like to lock their ecosystem down and this is only true for &ldquo;stock Android&rdquo; or more precisely the AOSP (Android Open Source Platform) and nowadays <em>every single</em> Android system shipped by popular manufacturers like OnePlus, Samsung and ZTE is bloated with tons of proprietary crapware and the even worse the Google services.</p>
<p>Some privacy-friendly/secure android Custom ROMs:</p>
<ul>
<li><a href="https://e.foundation/">https://e.foundation/</a> (All in one solution)</li>
<li><a href="https://iode.tech/en/">https://iode.tech/en/</a> (All in one solution)</li>
<li><a href="https://grapheneos.org/">https://grapheneos.org/</a> (very securtity-focused)</li>
<li><a href="https://calyxos.org/">https://calyxos.org/</a> (Trade-off between comfort and security)</li>
<li><a href="https://lineageos.org/">https://lineageos.org/</a> (multi-functional AOSP-Base)</li>
<li><a href="https://volla.online/de/">https://volla.online/de/</a> (VollaOS - beautiful but propriatary UI)</li>
</ul>
<p>Howerver, actually most smartphones lock the bootloader of their devices in some kind of way, so that it&rsquo;s either completely impossible to install Custom ROMs or that doing so e.g. breaks the bootloader partition and leaves some irreversible mark.
So before trying to follow along this guide or even buying a new phone it&rsquo;s smart to make sure if the device supports such modifications.</p>
<p>But if it does, like (very ironically) the Google &amp; OnePlus phones do, the following steps are required to unlock the bootloader, flash the android image and lock the bootloader again. This guide is written specificly for GrapheneOS and CalyxOS but should be roughly the way for flashing any android-based image; only slight changes may be required in the future, which always can be looked up at the corresponding projetct sites.</p>
<h2 id="download-the-sdk-platform-tools">Download the SDK Platform tools</h2>
<p><a href="https://developer.android.com/studio/releases/platform-tools">https://developer.android.com/studio/releases/platform-tools</a></p>
<pre><code>$ curl -O https://dl.google.com/android/repository/platform-tools_r30.0.4-linux.zip
$ echo '5be24ed897c7e061ba800bfa7b9ebb4b0f8958cc062f4b2202701e02f2725891  platform-tools_r30.0.4-linux.zip' | $ $ $ sha256sum -c
$ unzip platform-tools_r30.0.4-linux.zip
</code></pre><h2 id="download-the-official-android-image">Download the official android image</h2>
<p><a href="https://developers.google.com/android/images">https://developers.google.com/android/images</a></p>
<h2 id="unzip-both">Unzip both</h2>
<pre><code>$ unzip *factory*.zip
$ unzip platform-tools*.zip
</code></pre><p>Then copy SDK-Tools Folder-content into Image folder and cd into the image folder.</p>
<h2 id="correct-fastboot-path">Correct fastboot Path</h2>
<pre><code>$ sudo nano flash-all.sh
</code></pre><p>Remove if-query Change every &lsquo;fastboot&rsquo; to &lsquo;./fastboot&rsquo;</p>
<h2 id="for-safety-remove-fastboot-distro-programm">(For safety) Remove fastboot Distro-Programm</h2>
<pre><code>$ sudo pacman -R android-tools
</code></pre><h2 id="then-on-the-phone">Then, on the phone:</h2>
<ul>
<li>Enable OEM Unlocking (in the Developer Settings)</li>
<li>Plugin the device directly to the computer</li>
<li>Reboot into fastboot-mode by <code>Vol- + Power</code></li>
</ul>
<h2 id="list-devices">List devices</h2>
<pre><code>$ sudo ./fastboot devices
</code></pre><h2 id="unlock-bootloader">Unlock bootloader</h2>
<pre><code>$ sudo ./fastboot flashing unlock
</code></pre><h2 id="flash-phone">Flash Phone</h2>
<pre><code>$ sudo ./flash-all.sh
</code></pre><h2 id="first-check-if-aosp-installed-correctly-without-yet-setting-it-up">First check if AOSP installed correctly (without yet setting it up!)</h2>
<h2 id="then-lock-the-bootloader-again">Then lock the bootloader again</h2>
<pre><code>$ sudo ./fastboot flashing lock
</code></pre><h2 id="lastly-restart-setup-and-enjoy-your-new-os-">Lastly: Restart, setup and enjoy your new OS! :)</h2>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://nickohristov.de/tags/android/">android</a></span>
        <span class="tag"><a href="https://nickohristov.de/tags/customrom/">customROM</a></span>
        <span class="tag"><a href="https://nickohristov.de/tags/smartphone/">smartphone</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        389 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2022-03-01 16:00
        

         
          
        
      </p>
    </div>

    
    <div class="pagination">
        
        <div class="pagination__title">
            <span class="pagination__title-h">Read other posts</span>
            <hr />
        </div>
        

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="https://nickohristov.de/posts/gpg/">
                    <span class="button__icon">←</span>
                    <span class="button__text">GnuPG Cheatsheet</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="https://nickohristov.de/posts/dockerize/">
                    <span class="button__text">Dockerize Homelab</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

  </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&#127279; 2022</span>
            <span><a href="/gdpr/">GDPR<a></a></span>
            
            
            <span><a href="https://nickohristov.de/posts/index.xml" target="_blank" title="rss">RSS<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
            
            
        </div>
    </div>
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span><span class="text"></span></span>
        </div>
    </div>
    
</footer>

            
        </div>

        





<script type="text/javascript" src="/bundle.min.9006e041d9582fdc8c78662743d9ecdef878a052a5dcf9827796500c64d12dc4dff09f1a1c8d707135c3065d9114e8f86842f4837e5efd424833f11b9e11fc94.js" integrity="sha512-kAbgQdlYL9yMeGYnQ9ns3vh4oFKl3PmCd5ZQDGTRLcTf8J8aHI1wcTXDBl2RFOj4aEL0g35e/UJIM/EbnhH8lA=="></script>



    </body>
</html>
