<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Nicko Hristov ">
<meta name="description" content="Android is a great open source smartphone operating system and because based on Linux, with almost unlimited customization possibilities. Unfortunately, vendors like to lock their ecosystems down and former is only true for &amp;ldquo;stock Android&amp;rdquo; or more precisely the AOSP (Android Open Source Platform) and nowadays every single Android system shipped by popular manufacturers like OnePlus, Samsung and ZTE is bloated with tons of proprietary crapware and the even worse Google services." />
<meta name="keywords" content="homepage, blog, android, customROM, smartphone" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://nickohristov.de/posts/flashing_android_image/" />


    <title>
        
            Flashing AOSP to Smartphones :: Hi, I&#39;m Nicko Hristov!  — A student by day, a coder by night.
        
    </title>







<link rel="stylesheet" href="/main.c47edf39e235b482df2ff83840628fb6b276216c064604f24f8a226699cb571e.css">



    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="Flashing AOSP to Smartphones">
<meta itemprop="description" content="Android is a great open source smartphone operating system and because based on Linux, with almost unlimited customization possibilities. Unfortunately, vendors like to lock their ecosystems down and former is only true for &ldquo;stock Android&rdquo; or more precisely the AOSP (Android Open Source Platform) and nowadays every single Android system shipped by popular manufacturers like OnePlus, Samsung and ZTE is bloated with tons of proprietary crapware and the even worse Google services."><meta itemprop="datePublished" content="2022-02-23T16:00:00+01:00" />
<meta itemprop="dateModified" content="2022-02-23T16:00:00+01:00" />
<meta itemprop="wordCount" content="393"><meta itemprop="image" content="https://nickohristov.de"/>
<meta itemprop="keywords" content="android,customROM,smartphone," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://nickohristov.de"/>

<meta name="twitter:title" content="Flashing AOSP to Smartphones"/>
<meta name="twitter:description" content="Android is a great open source smartphone operating system and because based on Linux, with almost unlimited customization possibilities. Unfortunately, vendors like to lock their ecosystems down and former is only true for &ldquo;stock Android&rdquo; or more precisely the AOSP (Android Open Source Platform) and nowadays every single Android system shipped by popular manufacturers like OnePlus, Samsung and ZTE is bloated with tons of proprietary crapware and the even worse Google services."/>








    <meta property="article:published_time" content="2022-02-23 16:00:00 &#43;0100 CET" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">$</span>
            <span class="logo__text">cd ~</span>
            <span class="logo__cursor" style=
                  "
                   background-color:#379cff;
                   animation-duration:1.1s;">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/posts">Posts</a></li><li><a href="/about">About</a></li><li><a href="/sources">Sources</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        2 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://nickohristov.de/posts/flashing_android_image/">Flashing AOSP to Smartphones</a>
      </h1>

      

      

      

      <div class="post-content">
        

    <img src="/posts/Android_logo.png" alt="Android logo" style="float: right; height: 160px; margin: 20px 0px 20px 20px;">


<p>Android is a great open source smartphone operating system and because based on Linux, with almost unlimited customization possibilities. Unfortunately, vendors like to lock their ecosystems down and former is only true for &ldquo;stock Android&rdquo; or more precisely the AOSP (Android Open Source Platform) and nowadays <em>every single</em> Android system shipped by popular manufacturers like OnePlus, Samsung and ZTE is bloated with tons of proprietary crapware and the even worse Google services.</p>
<p>Some privacy-friendly/secure android Custom ROMs:</p>
<ul>
<li><a href="https://e.foundation/">https://e.foundation/</a> (All in one solution)</li>
<li><a href="https://iode.tech/en/">https://iode.tech/en/</a> (All in one solution)</li>
<li><a href="https://grapheneos.org/">https://grapheneos.org/</a> (very securtity-focused)</li>
<li><a href="https://calyxos.org/">https://calyxos.org/</a> (Trade-off between comfort and security)</li>
<li><a href="https://lineageos.org/">https://lineageos.org/</a> (multi-functional AOSP-Base)</li>
<li><a href="https://volla.online/de/">https://volla.online/de/</a> (VollaOS - beautiful but propriatary UI)</li>
</ul>
<p>Howerver, most vendors lock the bootloader of their devices in some kind of way, so that it&rsquo;s either completely impossible to install Custom ROMs or that doing so e.g. breaks the bootloader partition and leaves some irreversible mark.
So before trying to follow along this guide or even buying a new phone it&rsquo;s smart to make sure if the device supports such modifications.</p>
<p>But if it does, like (very ironically) the Google &amp; OnePlus phones do, the following steps are required to unlock the bootloader, flash the android image and lock the bootloader again. This guide is written specificly for Graphene and Calyx OS but should be roughly the way for flashing any android-based image; only slight changes may be required in the future, which always can be looked up at the corresponding projetct sites.</p>
<h2 id="download-the-sdk-platform-tools">Download the SDK Platform tools</h2>
<p><a href="https://developer.android.com/studio/releases/platform-tools">https://developer.android.com/studio/releases/platform-tools</a></p>
<pre tabindex="0"><code>$ curl -O https://dl.google.com/android/repository/platform-tools-latest-linux.zip
$ sha256sum platform-tools*.zip
$ unzip platform-tools*.zip
</code></pre><h2 id="download-the-factory-android-image">Download the factory android image</h2>
<p>Depending on which derivative you wanna use &hellip;</p>
<ul>
<li><a href="https://developers.google.com/android/images">https://developers.google.com/android/images</a></li>
<li><a href="https://calyxos.org/install/">https://calyxos.org/install/</a></li>
<li><a href="https://grapheneos.org/releases">https://grapheneos.org/releases</a></li>
</ul>
<h2 id="unzip-and-merge-contents">Unzip and merge contents</h2>
<pre tabindex="0"><code>$ unzip *factory*.zip
$ sha256sum *factory*.zip
</code></pre><p>Then copy SDK-Tools Folder-content into Image folder and cd into the image folder.</p>
<h2 id="correct-fastboot-path">Correct fastboot Path</h2>
<pre tabindex="0"><code>$ sudo nano flash-all.sh
</code></pre><ul>
<li>Remove if-query</li>
<li>Change every &lsquo;fastboot&rsquo; to &lsquo;./fastboot&rsquo;</li>
</ul>
<h2 id="for-safety-remove-fastboot-distro-programm">(For safety) Remove fastboot Distro-Programm</h2>
<pre tabindex="0"><code>$ sudo pacman -R android-tools
</code></pre><h2 id="then-on-the-phone">Then, on the phone:</h2>
<ul>
<li>Enable OEM Unlocking (in the Developer Settings)</li>
<li>Plugin the device directly to the computer</li>
<li>Reboot into fastboot-mode by <code>Vol- + Power</code></li>
</ul>
<h2 id="list-devices">List devices</h2>
<pre tabindex="0"><code>$ sudo ./fastboot devices
</code></pre><h2 id="unlock-bootloader">Unlock bootloader</h2>
<pre tabindex="0"><code>$ sudo ./fastboot flashing unlock
</code></pre><h2 id="flash-phone">Flash Phone</h2>
<pre tabindex="0"><code>$ sudo ./flash-all.sh
</code></pre><h2 id="first-check-if-aosp-installed-correctly-without-yet-setting-it-up">First check if AOSP installed correctly (without yet setting it up!)</h2>
<h2 id="then-lock-the-bootloader-again">Then lock the bootloader again</h2>
<pre tabindex="0"><code>$ sudo ./fastboot flashing lock
</code></pre><h2 id="lastly-restart-setup-and-enjoy-your-new-os-">Lastly: Restart, setup and enjoy your new OS! :)</h2>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://nickohristov.de/tags/android/">android</a></span>
        <span class="tag"><a href="https://nickohristov.de/tags/customrom/">customROM</a></span>
        <span class="tag"><a href="https://nickohristov.de/tags/smartphone/">smartphone</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        393 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2022-02-23 16:00
        

         
          
        
      </p>
    </div>

    
    <div class="pagination">
        
        <div class="pagination__title">
            <span class="pagination__title-h">Read other posts</span>
            <hr />
        </div>
        

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="https://nickohristov.de/posts/rgbibel/">
                    <span class="button__icon">←</span>
                    <span class="button__text">Die RGBibel</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="https://nickohristov.de/posts/dockerize/">
                    <span class="button__text">Dockerize Homelab</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

  </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&#127279;2022</span>
            <span><a href="http://nickov6fkxjsh3k3uvjwraif7kwy5ijnneguufrgi63l4ik7wxhhmxad.onion">Tor</a></span>
            <span><a href="/gdpr/">GDPR<a></a></span>
            
            
            
            <span><a href="https://nickohristov.de/posts/index.xml" target="_blank" title="rss">RSS<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 21 21" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
            
            
            
        </div>
    </div>
    
    
    <div class="footer__inner">
        <div class="footer__content">
		     
            <span><span class="text"></span></span>
         </div>
    
</footer>

            
        </div>

        





<script type="text/javascript" src="/bundle.min.d23700b4adce1aad57aa5afd1b861f14d38ba7784c5c1e0f1e405e0986d009f95e0bc45d462c0e4d4cc333b093a7ca401f2586edbb63b039142ce47e9e047864.js" integrity="sha512-0jcAtK3OGq1Xqlr9G4YfFNOLp3hMXB4PHkBeCYbQCfleC8RdRiwOTUzDM7CTp8pAHyWG7btjsDkULOR&#43;ngR4ZA=="></script>



    </body>
</html>
